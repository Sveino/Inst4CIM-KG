BASE   <https://ap-con.cim4.eu/SensitivityMatrix-Simple/2.3>
PREFIX cim:     <https://cim.ucaiug.io/ns#>
PREFIX dcat:    <http://www.w3.org/ns/dcat#>
PREFIX dcterms: <http://purl.org/dc/terms/#>
PREFIX ido:     <http://iec.ch/TC57/ns/CIM/IdentifiedObject/constraints/3.0#>
PREFIX nc:      <https://cim4.eu/ns/nc#>
PREFIX owl:     <http://www.w3.org/2002/07/owl#>
PREFIX rdf:     <http://www.w3.org/1999/02/22-rdf-syntax-ns#>
PREFIX rdfs:    <http://www.w3.org/2000/01/rdf-schema#>
PREFIX sh:      <http://www.w3.org/ns/shacl#>
PREFIX sm:      <https://ap-con.cim4.eu/SensitivityMatrix-Simple/2.3#>
PREFIX xsd:     <http://www.w3.org/2001/XMLSchema#>

sm:Ontology  rdf:type         owl:Ontology;
        dcterms:conformsTo    "file://CIM100_CGMES31v01_501-20v02_NC23v62_MM10v01.eap" , "urn:iso:std:iec:61970-301:ed-7:amd1" , "file://iec61970cim17v40_iec61968cim13v13a_iec62325cim03v17a.eap" , "urn:iso:std:iec:61970-401:draft:ed-1" , "urn:iso:std:iec:61970-600-2:ed-1" , "urn:iso:std:iec:61970-501:draft:ed-2";
        dcterms:description   "Describing constraints extracted from RDFS.";
        dcterms:identifier    "urn:uuidfd87c76e-ff0c-47ea-aaae-2f7ccdb0dd2e";
        dcterms:issued        "2024-09-12T18:07:38.663410"^^xsd:dateTime;
        dcterms:language      "en-GB";
        dcterms:license       "https://www.apache.org/licenses/LICENSE-2.0"@en;
        dcterms:modified      "2024-09-07"^^xsd:date;
        dcterms:publisher     "ENTSO-E"@en;
        dcterms:rightsHolder  "ENTSO-E"@en;
        dcterms:title         "Sensitivity Matrix constraints"@en;
        owl:versionIRI        <https://ap-con.cim4.eu/SensitivityMatrix-Simple/2.3>;
        owl:versionInfo       "2.3.2"@en;
        dcat:keyword          "SM";
        dcat:theme            "constraint"@en .

sm:ControllableQuantity.SensitivityFactor-cardinality
        rdf:type        sh:PropertyShape;
        sh:description  "This constraint validates the cardinality of the association at the inverse direction.";
        sh:group        sm:CardinalityGroup;
        sh:message      "Cardinality violation. Lower bound shall be 1";
        sh:minCount     1;
        sh:name         "ControllableQuantity.SensitivityFactor-cardinality";
        sh:order        3;
        sh:path         [ sh:inversePath  nc:SensitivityFactor.ControllableQuantity ];
        sh:severity     sh:Violation .

sm:ControllableQuantity.value-datatype
        rdf:type        sh:PropertyShape;
        sh:datatype     xsd:float;
        sh:description  "This constraint validates the datatype of the property (attribute).";
        sh:group        sm:DatatypesGroup;
        sh:message      "The datatype is not literal or it violates the xsd datatype.";
        sh:name         "ControllableQuantity.value-datatype";
        sh:nodeKind     sh:Literal;
        sh:order        2;
        sh:path         nc:ControllableQuantity.value;
        sh:severity     sh:Violation .

sm:ControllableQuantity.value-cardinality
        rdf:type        sh:PropertyShape;
        sh:description  "This constraint validates the cardinality of the property (attribute).";
        sh:group        sm:CardinalityGroup;
        sh:maxCount     1;
        sh:message      "Cardinality violation. Upper bound shall be 1";
        sh:name         "ControllableQuantity.value-cardinality";
        sh:order        2;
        sh:path         nc:ControllableQuantity.value;
        sh:severity     sh:Violation .

sm:ControllableQuantity.RemedialAction-valueType
        rdf:type        sh:PropertyShape;
        sh:description  "This constraint validates the value type of the association at the used direction.";
        sh:group        sm:AssociationsGroup;
        sh:in           ( nc:GridStateAlterationRemedialAction nc:AvailabilityRemedialAction nc:SchemeRemedialAction nc:RedispatchRemedialAction nc:CountertradeRemedialAction );
        sh:message      "One of the following occurs: 1) The value type is not IRI; 2) The value type is not the right class.";
        sh:name         "ControllableQuantity.RemedialAction-valueType";
        sh:nodeKind     sh:IRI;
        sh:order        1;
        sh:path         ( nc:ControllableQuantity.RemedialAction rdf:type );
        sh:severity     sh:Violation .

sm:ControllableQuantity.RemedialAction-valueTypeNodeShape
        rdf:type        sh:NodeShape;
        sh:property     sm:ControllableQuantity.RemedialAction-valueType;
        sh:targetClass  nc:ControllableQuantity .

sm:ControllableQuantity.RemedialAction-cardinality
        rdf:type        sh:PropertyShape;
        sh:description  "This constraint validates the cardinality of the association at the used direction.";
        sh:group        sm:CardinalityGroup;
        sh:maxCount     1;
        sh:message      "Cardinality violation. Upper bound shall be 1";
        sh:name         "ControllableQuantity.RemedialAction-cardinality";
        sh:order        1;
        sh:path         nc:ControllableQuantity.RemedialAction;
        sh:severity     sh:Violation .

sm:ControllableQuantity.GridStateAlteration-valueType
        rdf:type        sh:PropertyShape;
        sh:description  "This constraint validates the value type of the association at the used direction.";
        sh:group        sm:AssociationsGroup;
        sh:in           ( nc:TapPositionAction nc:TopologyAction nc:RegulatingControlAction nc:InServiceAction nc:ExternalNetworkInjectionAction nc:EnergySourceModification nc:BiddingZoneAction nc:RotatingMachineAction nc:BatteryUnitAction nc:StaticVarCompensatorAction nc:PowerElectronicsConnectionAction nc:EquivalentInjectionAction nc:LoadAction nc:ControlFunctionBlockAction nc:EquipmentControllerAction nc:ACDCConverterAction nc:ShuntCompensatorModification );
        sh:message      "One of the following occurs: 1) The value type is not IRI; 2) The value type is not the right class.";
        sh:name         "ControllableQuantity.GridStateAlteration-valueType";
        sh:nodeKind     sh:IRI;
        sh:order        0;
        sh:path         ( nc:ControllableQuantity.GridStateAlteration rdf:type );
        sh:severity     sh:Violation .

sm:ControllableQuantity.GridStateAlteration-valueTypeNodeShape
        rdf:type        sh:NodeShape;
        sh:property     sm:ControllableQuantity.GridStateAlteration-valueType;
        sh:targetClass  nc:ControllableQuantity .

sm:ControllableQuantity.GridStateAlteration-cardinality
        rdf:type        sh:PropertyShape;
        sh:description  "This constraint validates the cardinality of the association at the used direction.";
        sh:group        sm:CardinalityGroup;
        sh:maxCount     1;
        sh:message      "Cardinality violation. Upper bound shall be 1";
        sh:name         "ControllableQuantity.GridStateAlteration-cardinality";
        sh:order        0;
        sh:path         nc:ControllableQuantity.GridStateAlteration;
        sh:severity     sh:Violation .

sm:ControllableQuantity
        rdf:type        sh:NodeShape;
        sh:property     sm:ControllableQuantity.SensitivityFactor-cardinality , sm:ControllableQuantity.value-datatype , sm:ControllableQuantity.value-cardinality , sm:ControllableQuantity.RemedialAction-cardinality , sm:ControllableQuantity.GridStateAlteration-cardinality;
        sh:targetClass  nc:ControllableQuantity .

sm:SensitivityMatrix.SensitivityFactor-cardinality
        rdf:type        sh:PropertyShape;
        sh:description  "This constraint validates the cardinality of the association at the inverse direction.";
        sh:group        sm:CardinalityGroup;
        sh:message      "Cardinality violation. Lower bound shall be 1";
        sh:minCount     1;
        sh:name         "SensitivityMatrix.SensitivityFactor-cardinality";
        sh:order        1;
        sh:path         [ sh:inversePath  nc:SensitivityFactor.SensitivityMatrix ];
        sh:severity     sh:Violation .

sm:SensitivityMatrix.kind-datatype
        rdf:type        sh:PropertyShape;
        sh:description  "This constraint validates the datatype of the property (attribute).";
        sh:group        sm:DatatypesGroup;
        sh:in           ( nc:SensitivityMatrixKind.zoneToSlack nc:SensitivityMatrixKind.uniformNode nc:SensitivityMatrixKind.uniformLoad nc:SensitivityMatrixKind.other );
        sh:message      "The datatype is not IRI (Internationalized Resource Identifier) or it is enumerated value not part of the profile.";
        sh:name         "SensitivityMatrix.kind-datatype";
        sh:nodeKind     sh:IRI;
        sh:order        0;
        sh:path         nc:SensitivityMatrix.kind;
        sh:severity     sh:Violation .

sm:SensitivityMatrix.kind-cardinality
        rdf:type        sh:PropertyShape;
        sh:description  "This constraint validates the cardinality of the property (attribute).";
        sh:group        sm:CardinalityGroup;
        sh:maxCount     1;
        sh:message      "Missing required property (attribute).";
        sh:minCount     1;
        sh:name         "SensitivityMatrix.kind-cardinality";
        sh:order        0;
        sh:path         nc:SensitivityMatrix.kind;
        sh:severity     sh:Violation .

sm:SensitivityMatrix  rdf:type  sh:NodeShape;
        sh:property     ido:IdentifiedObject.mRID-datatype , ido:IdentifiedObject.mRID-cardinality , ido:IdentifiedObject.description-datatype , ido:IdentifiedObject.description-cardinality , ido:IdentifiedObject.name-datatype , ido:IdentifiedObject.name-cardinality , sm:SensitivityMatrix.SensitivityFactor-cardinality , sm:SensitivityMatrix.kind-datatype , sm:SensitivityMatrix.kind-cardinality;
        sh:targetClass  nc:SensitivityMatrix .

sm:SensitivityFactor.SensitivityMatrix-valueType
        rdf:type        sh:PropertyShape;
        sh:description  "This constraint validates the value type of the association at the used direction.";
        sh:group        sm:AssociationsGroup;
        sh:in           ( nc:SensitivityMatrix );
        sh:message      "One of the following does not conform: 1) The value type shall be IRI; 2) The value type shall be an instance of the class: nc:SensitivityMatrix";
        sh:name         "SensitivityFactor.SensitivityMatrix-valueType";
        sh:nodeKind     sh:IRI;
        sh:order        3;
        sh:path         ( nc:SensitivityFactor.SensitivityMatrix rdf:type );
        sh:severity     sh:Violation .

sm:SensitivityFactor.SensitivityMatrix-cardinality
        rdf:type        sh:PropertyShape;
        sh:description  "This constraint validates the cardinality of the association at the used direction.";
        sh:group        sm:CardinalityGroup;
        sh:maxCount     1;
        sh:message      "Association with cardinality violation at the used direction.";
        sh:minCount     1;
        sh:name         "SensitivityFactor.SensitivityMatrix-cardinality";
        sh:order        3;
        sh:path         nc:SensitivityFactor.SensitivityMatrix;
        sh:severity     sh:Violation .

sm:SensitivityFactor.value-datatype
        rdf:type        sh:PropertyShape;
        sh:datatype     xsd:float;
        sh:description  "This constraint validates the datatype of the property (attribute).";
        sh:group        sm:DatatypesGroup;
        sh:message      "The datatype is not literal or it violates the xsd datatype.";
        sh:name         "SensitivityFactor.value-datatype";
        sh:nodeKind     sh:Literal;
        sh:order        2;
        sh:path         nc:SensitivityFactor.value;
        sh:severity     sh:Violation .

sm:SensitivityFactor.value-cardinality
        rdf:type        sh:PropertyShape;
        sh:description  "This constraint validates the cardinality of the property (attribute).";
        sh:group        sm:CardinalityGroup;
        sh:maxCount     1;
        sh:message      "Missing required property (attribute).";
        sh:minCount     1;
        sh:name         "SensitivityFactor.value-cardinality";
        sh:order        2;
        sh:path         nc:SensitivityFactor.value;
        sh:severity     sh:Violation .

sm:SensitivityFactor.ControllableQuantity-valueType
        rdf:type        sh:PropertyShape;
        sh:description  "This constraint validates the value type of the association at the used direction.";
        sh:group        sm:AssociationsGroup;
        sh:in           ( nc:ControllableQuantity );
        sh:message      "One of the following does not conform: 1) The value type shall be IRI; 2) The value type shall be an instance of the class: nc:ControllableQuantity";
        sh:name         "SensitivityFactor.ControllableQuantity-valueType";
        sh:nodeKind     sh:IRI;
        sh:order        1;
        sh:path         ( nc:SensitivityFactor.ControllableQuantity rdf:type );
        sh:severity     sh:Violation .

sm:SensitivityFactor.ControllableQuantity-cardinality
        rdf:type        sh:PropertyShape;
        sh:description  "This constraint validates the cardinality of the association at the used direction.";
        sh:group        sm:CardinalityGroup;
        sh:maxCount     1;
        sh:message      "Association with cardinality violation at the used direction.";
        sh:minCount     1;
        sh:name         "SensitivityFactor.ControllableQuantity-cardinality";
        sh:order        1;
        sh:path         nc:SensitivityFactor.ControllableQuantity;
        sh:severity     sh:Violation .

sm:SensitivityFactor.ObservableQuantity-valueType
        rdf:type        sh:PropertyShape;
        sh:description  "This constraint validates the value type of the association at the used direction.";
        sh:group        sm:AssociationsGroup;
        sh:in           ( nc:ObservableQuantity );
        sh:message      "One of the following does not conform: 1) The value type shall be IRI; 2) The value type shall be an instance of the class: nc:ObservableQuantity";
        sh:name         "SensitivityFactor.ObservableQuantity-valueType";
        sh:nodeKind     sh:IRI;
        sh:order        0;
        sh:path         ( nc:SensitivityFactor.ObservableQuantity rdf:type );
        sh:severity     sh:Violation .

sm:SensitivityFactor.ObservableQuantity-cardinality
        rdf:type        sh:PropertyShape;
        sh:description  "This constraint validates the cardinality of the association at the used direction.";
        sh:group        sm:CardinalityGroup;
        sh:maxCount     1;
        sh:message      "Association with cardinality violation at the used direction.";
        sh:minCount     1;
        sh:name         "SensitivityFactor.ObservableQuantity-cardinality";
        sh:order        0;
        sh:path         nc:SensitivityFactor.ObservableQuantity;
        sh:severity     sh:Violation .

sm:SensitivityFactor  rdf:type  sh:NodeShape;
        sh:property     sm:SensitivityFactor.SensitivityMatrix-valueType , sm:SensitivityFactor.SensitivityMatrix-cardinality , sm:SensitivityFactor.value-datatype , sm:SensitivityFactor.value-cardinality , sm:SensitivityFactor.ControllableQuantity-valueType , sm:SensitivityFactor.ControllableQuantity-cardinality , sm:SensitivityFactor.ObservableQuantity-valueType , sm:SensitivityFactor.ObservableQuantity-cardinality;
        sh:targetClass  nc:SensitivityFactor .

ido:IdentifiedObject.mRID-datatype
        rdf:type        sh:PropertyShape;
        sh:datatype     xsd:string;
        sh:description  "This constraint validates the datatype of the property (attribute).";
        sh:group        ido:DatatypesGroupIO;
        sh:message      "The datatype is not literal or it violates the xsd datatype.";
        sh:name         "IdentifiedObject.mRID-datatype";
        sh:nodeKind     sh:Literal;
        sh:order        0.1;
        sh:path         cim:IdentifiedObject.mRID;
        sh:severity     sh:Violation .

ido:IdentifiedObject.mRID-cardinality
        rdf:type        sh:PropertyShape;
        sh:description  "This constraint validates the cardinality of the property (attribute).";
        sh:group        ido:CardinalityIO;
        sh:maxCount     1;
        sh:message      "Missing required property (attribute).";
        sh:minCount     1;
        sh:name         "IdentifiedObject.mRID-cardinality";
        sh:order        0.1;
        sh:path         cim:IdentifiedObject.mRID;
        sh:severity     sh:Violation .

ido:IdentifiedObject.description-datatype
        rdf:type        sh:PropertyShape;
        sh:datatype     xsd:string;
        sh:description  "This constraint validates the datatype of the property (attribute).";
        sh:group        ido:DatatypesGroupIO;
        sh:message      "The datatype is not literal or it violates the xsd datatype.";
        sh:name         "IdentifiedObject.description-datatype";
        sh:nodeKind     sh:Literal;
        sh:order        0.1;
        sh:path         cim:IdentifiedObject.description;
        sh:severity     sh:Violation .

ido:IdentifiedObject.description-cardinality
        rdf:type        sh:PropertyShape;
        sh:description  "This constraint validates the cardinality of the property (attribute).";
        sh:group        ido:CardinalityIO;
        sh:maxCount     1;
        sh:message      "Cardinality violation. Upper bound shall be 1";
        sh:name         "IdentifiedObject.description-cardinality";
        sh:order        0.1;
        sh:path         cim:IdentifiedObject.description;
        sh:severity     sh:Violation .

ido:IdentifiedObject.name-datatype
        rdf:type        sh:PropertyShape;
        sh:datatype     xsd:string;
        sh:description  "This constraint validates the datatype of the property (attribute).";
        sh:group        ido:DatatypesGroupIO;
        sh:message      "The datatype is not literal or it violates the xsd datatype.";
        sh:name         "IdentifiedObject.name-datatype";
        sh:nodeKind     sh:Literal;
        sh:order        0.1;
        sh:path         cim:IdentifiedObject.name;
        sh:severity     sh:Violation .

ido:IdentifiedObject.name-cardinality
        rdf:type        sh:PropertyShape;
        sh:description  "This constraint validates the cardinality of the property (attribute).";
        sh:group        ido:CardinalityIO;
        sh:maxCount     1;
        sh:message      "Cardinality violation. Upper bound shall be 1";
        sh:name         "IdentifiedObject.name-cardinality";
        sh:order        0.1;
        sh:path         cim:IdentifiedObject.name;
        sh:severity     sh:Violation .

sm:AssessedElement  rdf:type  sh:NodeShape;
        sh:property     ido:IdentifiedObject.mRID-datatype , ido:IdentifiedObject.mRID-cardinality , ido:IdentifiedObject.description-datatype , ido:IdentifiedObject.description-cardinality , ido:IdentifiedObject.name-datatype , ido:IdentifiedObject.name-cardinality;
        sh:targetClass  nc:AssessedElement .

sm:ObservableQuantity.AssessedElement-valueType
        rdf:type        sh:PropertyShape;
        sh:description  "This constraint validates the value type of the association at the used direction.";
        sh:group        sm:AssociationsGroup;
        sh:in           ( nc:AssessedElement );
        sh:message      "One of the following does not conform: 1) The value type shall be IRI; 2) The value type shall be an instance of the class: nc:AssessedElement";
        sh:name         "ObservableQuantity.AssessedElement-valueType";
        sh:nodeKind     sh:IRI;
        sh:order        3;
        sh:path         ( nc:ObservableQuantity.AssessedElement rdf:type );
        sh:severity     sh:Violation .

sm:ObservableQuantity.AssessedElement-cardinality
        rdf:type        sh:PropertyShape;
        sh:description  "This constraint validates the cardinality of the association at the used direction.";
        sh:group        sm:CardinalityGroup;
        sh:maxCount     1;
        sh:message      "Association with cardinality violation at the used direction.";
        sh:minCount     1;
        sh:name         "ObservableQuantity.AssessedElement-cardinality";
        sh:order        3;
        sh:path         nc:ObservableQuantity.AssessedElement;
        sh:severity     sh:Violation .

sm:ObservableQuantity.SensitivityFactor-cardinality
        rdf:type        sh:PropertyShape;
        sh:description  "This constraint validates the cardinality of the association at the inverse direction.";
        sh:group        sm:CardinalityGroup;
        sh:message      "Cardinality violation. Lower bound shall be 1";
        sh:minCount     1;
        sh:name         "ObservableQuantity.SensitivityFactor-cardinality";
        sh:order        2;
        sh:path         [ sh:inversePath  nc:SensitivityFactor.ObservableQuantity ];
        sh:severity     sh:Violation .

sm:ObservableQuantity.Contingency-valueType
        rdf:type        sh:PropertyShape;
        sh:description  "This constraint validates the value type of the association at the used direction.";
        sh:group        sm:AssociationsGroup;
        sh:in           ( nc:OutOfRangeContingency nc:OrdinaryContingency nc:ExceptionalContingency );
        sh:message      "One of the following occurs: 1) The value type is not IRI; 2) The value type is not the right class.";
        sh:name         "ObservableQuantity.Contingency-valueType";
        sh:nodeKind     sh:IRI;
        sh:order        1;
        sh:path         ( nc:ObservableQuantity.Contingency rdf:type );
        sh:severity     sh:Violation .

sm:ObservableQuantity.Contingency-valueTypeNodeShape
        rdf:type        sh:NodeShape;
        sh:property     sm:ObservableQuantity.Contingency-valueType;
        sh:targetClass  nc:ObservableQuantity .

sm:ObservableQuantity.Contingency-cardinality
        rdf:type        sh:PropertyShape;
        sh:description  "This constraint validates the cardinality of the association at the used direction.";
        sh:group        sm:CardinalityGroup;
        sh:maxCount     1;
        sh:message      "Cardinality violation. Upper bound shall be 1";
        sh:name         "ObservableQuantity.Contingency-cardinality";
        sh:order        1;
        sh:path         nc:ObservableQuantity.Contingency;
        sh:severity     sh:Violation .

sm:ObservableQuantity.observableQuantityKind-datatype
        rdf:type        sh:PropertyShape;
        sh:description  "This constraint validates the datatype of the property (attribute).";
        sh:group        sm:DatatypesGroup;
        sh:in           ( nc:ObservableQuantityKind.voltageAngle nc:ObservableQuantityKind.reactivePower nc:ObservableQuantityKind.activePower nc:ObservableQuantityKind.voltageMagnitude );
        sh:message      "The datatype is not IRI (Internationalized Resource Identifier) or it is enumerated value not part of the profile.";
        sh:name         "ObservableQuantity.observableQuantityKind-datatype";
        sh:nodeKind     sh:IRI;
        sh:order        0;
        sh:path         nc:ObservableQuantity.observableQuantityKind;
        sh:severity     sh:Violation .

sm:ObservableQuantity.observableQuantityKind-cardinality
        rdf:type        sh:PropertyShape;
        sh:description  "This constraint validates the cardinality of the property (attribute).";
        sh:group        sm:CardinalityGroup;
        sh:maxCount     1;
        sh:message      "Missing required property (attribute).";
        sh:minCount     1;
        sh:name         "ObservableQuantity.observableQuantityKind-cardinality";
        sh:order        0;
        sh:path         nc:ObservableQuantity.observableQuantityKind;
        sh:severity     sh:Violation .

sm:ObservableQuantity
        rdf:type        sh:NodeShape;
        sh:property     sm:ObservableQuantity.AssessedElement-valueType , sm:ObservableQuantity.AssessedElement-cardinality , sm:ObservableQuantity.SensitivityFactor-cardinality , sm:ObservableQuantity.Contingency-cardinality , sm:ObservableQuantity.observableQuantityKind-datatype , sm:ObservableQuantity.observableQuantityKind-cardinality;
        sh:targetClass  nc:ObservableQuantity .

sm:AssociationsGroup  rdf:type  sh:PropertyGroup;
        rdfs:label  "Associations";
        sh:order    2 .

ido:DatatypesGroupIO  rdf:type  sh:PropertyGroup;
        rdfs:label  "DatatypesIO";
        sh:order    1 .

sm:DatatypesGroup  rdf:type  sh:PropertyGroup;
        rdfs:label  "Datatypes";
        sh:order    1 .

ido:CardinalityGroup  rdf:type  sh:PropertyGroup;
        rdfs:label  "CardinalityIO";
        sh:order    0 .

sm:CardinalityGroup  rdf:type  sh:PropertyGroup;
        rdfs:label  "Cardinality";
        sh:order    0 .
