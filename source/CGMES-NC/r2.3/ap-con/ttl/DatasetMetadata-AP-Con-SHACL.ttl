BASE   <https://ap-con.cim4.eu/DatasetMetadata-Simple/2.4>
PREFIX adms:     <http://www.w3.org/ns/adms#>
PREFIX dcat:     <http://www.w3.org/ns/dcat#>
PREFIX cim:      <https://cim.ucaiug.io/ns#> 
PREFIX dcat-cim: <https://cim4.eu/ns/dcat-cim#>
PREFIX dcterms:  <http://purl.org/dc/terms/#>
PREFIX dm:       <https://ap-con.cim4.eu/DatasetMetadata-Simple/2.4#>
PREFIX eumd:     <https://cim4.eu/ns/Metadata-European#>
PREFIX ido:      <http://iec.ch/TC57/ns/CIM/IdentifiedObject/constraints/3.0#>
PREFIX owl:      <http://www.w3.org/2002/07/owl#>
PREFIX prov:     <http://www.w3.org/ns/prov#>
PREFIX rdf:      <http://www.w3.org/1999/02/22-rdf-syntax-ns#>
PREFIX rdfs:     <http://www.w3.org/2000/01/rdf-schema#>
PREFIX sh:       <http://www.w3.org/ns/shacl#>
PREFIX xsd:      <http://www.w3.org/2001/XMLSchema#>

dm:Ontology  rdf:type         owl:Ontology;
        dcterms:conformsTo    "urn:iso:std:iec:61970-401:draft:ed-1" , "urn:iso:std:iec:61970-501:draft:ed-2";
        dcterms:description   "Describing constraints extracted from RDFS.";
        dcterms:identifier    "urn:uuid77a742f3-9ec5-4aee-bab2-9f0690ed7424";
        dcterms:issued        "2024-09-12T18:00:23.143334900"^^xsd:dateTime;
        dcterms:license       "https://www.apache.org/licenses/LICENSE-2.0"@en;
        dcterms:modified      "2024-09-07"^^xsd:date;
        dcterms:publisher     "ENTSO-E"@en;
        dcterms:rightsHolder  "ENTSO-E"@en;
        dcterms:title         "Dataset metadata constraints"@en;
        owl:versionIRI        <https://ap-con.cim4.eu/DatasetMetadata-Simple/2.4>;
        owl:versionInfo       "2.4.0"@en;
        dcat:theme            "constraint"@en .

cim:    
    a           owl:Ontology ;
    owl:imports sh: ;
    sh:declare [
        a sh:PrefixDeclaration ;
        sh:namespace "https://cim.ucaiug.io/ns#"^^xsd:anyURI ;
        sh:prefix "cim" ;
    ] ;
    sh:declare [
        a sh:PrefixDeclaration ;
        sh:namespace "http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI ;
        sh:prefix "rdf" ;
    ] ;
    sh:declare [
        a sh:PrefixDeclaration ;
        sh:namespace "https://cim.ucaiug.io/ns/eu#"^^xsd:anyURI ;
        sh:prefix "eu" ;
	] ;	
	sh:declare [
        a sh:PrefixDeclaration ;
        sh:namespace "http://www.w3.org/ns/prov#"^^xsd:anyURI ;
        sh:prefix "prov" ;
	] ;	
	sh:declare [
        a sh:PrefixDeclaration ;
        sh:namespace "http://www.w3.org/ns/adms#"^^xsd:anyURI ;
        sh:prefix "adms" ;
	] ;	
	sh:declare [
        a sh:PrefixDeclaration ;
        sh:namespace "http://www.w3.org/ns/dcat#"^^xsd:anyURI ;
        sh:prefix "dcat" ;
	] ;	
	sh:declare [
        a sh:PrefixDeclaration ;
        sh:namespace "https://cim4.eu/ns/dcat-cim#"^^xsd:anyURI ;
        sh:prefix "dcat-cim" ;
	] ;
    sh:declare [
        a sh:PrefixDeclaration ;
        sh:namespace "http://purl.org/dc/terms/#"^^xsd:anyURI ;
        sh:prefix "dcterms" ;
    ] .		

dm:temporalResolution-datatype
        rdf:type        sh:PropertyShape;
        sh:datatype     xsd:duration;
        sh:description  "This constraint validates the datatype of the property (attribute).";
        sh:group        dm:DatatypesGroup;
        sh:message      "The datatype is not literal or it violates the xsd datatype.";
        sh:name         "temporalResolution-datatype";
        sh:nodeKind     sh:Literal;
        sh:order        52;
        sh:path         dcat:temporalResolution;
        sh:severity     sh:Violation .

dm:temporalResolution-cardinality
        rdf:type        sh:PropertyShape;
        sh:description  "This constraint validates the cardinality of the property (attribute).";
        sh:group        dm:CardinalityGroup;
        sh:maxCount     1;
        sh:message      "Cardinality violation. Upper bound shall be 1";
        sh:name         "temporalResolution-cardinality";
        sh:order        52;
        sh:path         dcat:temporalResolution;
        sh:severity     sh:Violation .

dm:previousVersion-valueType
        rdf:type        sh:PropertyShape;
        sh:description  "This constraint validates the value type of the association at the used direction.";
        sh:group        dm:AssociationsGroup;
        sh:in           ( dcat:Dataset );
        sh:message      "One of the following does not conform: 1) The value type shall be IRI; 2) The value type shall be an instance of the class: dcat:Dataset";
        sh:name         "previousVersion-valueType";
        sh:nodeKind     sh:IRI;
        sh:order        51;
        sh:path         ( dcat:previousVersion rdf:type );
        sh:severity     sh:Violation .

dm:previousVersion-cardinality
        rdf:type        sh:PropertyShape;
        sh:description  "This constraint validates the cardinality of the association at the used direction.";
        sh:group        dm:CardinalityGroup;
        sh:maxCount     1;
        sh:message      "Cardinality violation. Upper bound shall be 1";
        sh:name         "previousVersion-cardinality";
        sh:order        51;
        sh:path         dcat:previousVersion;
        sh:severity     sh:Violation .

dm:source-valueType  rdf:type  sh:PropertyShape;
        sh:description  "This constraint validates the value type of the association at the used direction.";
        sh:group        dm:AssociationsGroup;
        sh:in           ( dcat:Dataset );
        sh:message      "One of the following does not conform: 1) The value type shall be IRI; 2) The value type shall be an instance of the class: dcat:Dataset";
        sh:name         "source-valueType";
        sh:nodeKind     sh:IRI;
        sh:order        49;
        sh:path         ( dcterms:source rdf:type );
        sh:severity     sh:Violation .

dm:source-cardinality
        rdf:type        sh:PropertyShape;
        sh:description  "This constraint validates the cardinality of the association at the used direction.";
        sh:group        dm:CardinalityGroup;
        sh:maxCount     1;
        sh:message      "Cardinality violation. Upper bound shall be 1";
        sh:name         "source-cardinality";
        sh:order        49;
        sh:path         dcterms:source;
        sh:severity     sh:Violation .

dm:alternativeVersionOf-valueType
        rdf:type        sh:PropertyShape;
        sh:description  "This constraint validates the value type of the association at the used direction.";
        sh:group        dm:AssociationsGroup;
        sh:in           ( dcat:Dataset );
        sh:message      "One of the following does not conform: 1) The value type shall be IRI; 2) The value type shall be an instance of the class: dcat:Dataset";
        sh:name         "alternativeVersionOf-valueType";
        sh:nodeKind     sh:IRI;
        sh:order        48;
        sh:path         ( dcat-cim:alternativeVersionOf rdf:type );
        sh:severity     sh:Violation .

dm:alternativeVersionOf-cardinality
        rdf:type        sh:PropertyShape;
        sh:description  "This constraint validates the cardinality of the association at the used direction.";
        sh:group        dm:CardinalityGroup;
        sh:maxCount     1;
        sh:message      "Cardinality violation. Upper bound shall be 1";
        sh:name         "alternativeVersionOf-cardinality";
        sh:order        48;
        sh:path         dcat-cim:alternativeVersionOf;
        sh:severity     sh:Violation .

dm:generatedAtTime-datatype
        rdf:type        sh:PropertyShape;
        sh:datatype     xsd:dateTime;
        sh:description  "This constraint validates the datatype of the property (attribute).";
        sh:group        dm:DatatypesGroup;
        sh:message      "The datatype is not literal or it violates the xsd datatype.";
        sh:name         "generatedAtTime-datatype";
        sh:nodeKind     sh:Literal;
        sh:order        47;
        sh:path         prov:generatedAtTime;
        sh:severity     sh:Violation .

dm:generatedAtTime-cardinality
        rdf:type        sh:PropertyShape;
        sh:description  "This constraint validates the cardinality of the property (attribute).";
        sh:group        dm:CardinalityGroup;
        sh:maxCount     1;
        sh:message      "Cardinality violation. Upper bound shall be 1";
        sh:name         "generatedAtTime-cardinality";
        sh:order        47;
        sh:path         prov:generatedAtTime;
        sh:severity     sh:Violation .

dm:identifier-datatype
        rdf:type        sh:PropertyShape;
        sh:datatype     xsd:string;
        sh:description  "This constraint validates the datatype of the property (attribute).";
        sh:group        dm:DatatypesGroup;
        sh:message      "The datatype is not literal or it violates the xsd datatype.";
        sh:name         "identifier-datatype";
        sh:nodeKind     sh:Literal;
        sh:order        46;
        sh:path         dcterms:identifier;
        sh:severity     sh:Violation .

dm:identifier-cardinality
        rdf:type        sh:PropertyShape;
        sh:description  "This constraint validates the cardinality of the property (attribute).";
        sh:group        dm:CardinalityGroup;
        sh:maxCount     1;
        sh:message      "Cardinality violation. Upper bound shall be 1";
        sh:name         "identifier-cardinality";
        sh:order        46;
        sh:path         dcterms:identifier;
        sh:severity     sh:Violation .

dm:replaces-valueType
        rdf:type        sh:PropertyShape;
        sh:description  "This constraint validates the value type of the association at the used direction.";
        sh:group        dm:AssociationsGroup;
        sh:in           ( dcat:Dataset );
        sh:message      "One of the following does not conform: 1) The value type shall be IRI; 2) The value type shall be an instance of the class: dcat:Dataset";
        sh:name         "replaces-valueType";
        sh:nodeKind     sh:IRI;
        sh:order        45;
        sh:path         ( dcterms:replaces rdf:type );
        sh:severity     sh:Violation .

dm:versionNotes-datatype
        rdf:type        sh:PropertyShape;
        sh:datatype     xsd:string;
        sh:description  "This constraint validates the datatype of the property (attribute).";
        sh:group        dm:DatatypesGroup;
        sh:message      "The datatype is not literal or it violates the xsd datatype.";
        sh:name         "versionNotes-datatype";
        sh:nodeKind     sh:Literal;
        sh:order        44;
        sh:path         adms:versionNotes;
        sh:severity     sh:Violation .

dm:versionNotes-cardinality
        rdf:type        sh:PropertyShape;
        sh:description  "This constraint validates the cardinality of the property (attribute).";
        sh:group        dm:CardinalityGroup;
        sh:maxCount     1;
        sh:message      "Cardinality violation. Upper bound shall be 1";
        sh:name         "versionNotes-cardinality";
        sh:order        44;
        sh:path         adms:versionNotes;
        sh:severity     sh:Violation .

dm:processType-valueType
        rdf:type        sh:PropertyShape;
        sh:description  "This constraint validates the value type of the association at the used direction.";
        sh:group        dm:AssociationsGroup;
        sh:in           ( dcat:Dataset );
        sh:message      "One of the following does not conform: 1) The value type shall be IRI; 2) The value type shall be an instance of the class: dcat:Dataset";
        sh:name         "processType-valueType";
        sh:nodeKind     sh:IRI;
        sh:order        43;
        sh:path         ( eumd:processType rdf:type );
        sh:severity     sh:Violation .

dm:processType-cardinality
        rdf:type        sh:PropertyShape;
        sh:description  "This constraint validates the cardinality of the association at the used direction.";
        sh:group        dm:CardinalityGroup;
        sh:maxCount     1;
        sh:message      "Cardinality violation. Upper bound shall be 1";
        sh:name         "processType-cardinality";
        sh:order        43;
        sh:path         eumd:processType;
        sh:severity     sh:Violation .

dm:conformsTo-valueType
        rdf:type        sh:PropertyShape;
        sh:description  "This constraint validates the value type of the association at the used direction.";
        sh:group        dm:AssociationsGroup;
        sh:in           ( dcat:Dataset );
        sh:message      "One of the following does not conform: 1) The value type shall be IRI; 2) The value type shall be an instance of the class: dcat:Dataset";
        sh:name         "conformsTo-valueType";
        sh:nodeKind     sh:IRI;
        sh:order        42;
        sh:path         ( dcterms:conformsTo rdf:type );
        sh:severity     sh:Violation .

dm:Dataset.publisher-valueType
        rdf:type        sh:PropertyShape;
        sh:description  "This constraint validates the value type of the association at the used direction.";
        sh:group        dm:AssociationsGroup;
        sh:in           ( dcat:Dataset );
        sh:message      "One of the following does not conform: 1) The value type shall be IRI; 2) The value type shall be an instance of the class: dcat:Dataset";
        sh:name         "Dataset.publisher-valueType";
        sh:nodeKind     sh:IRI;
        sh:order        41;
        sh:path         ( dcat:Dataset.publisher rdf:type );
        sh:severity     sh:Violation .

dm:Dataset.publisher-cardinality
        rdf:type        sh:PropertyShape;
        sh:description  "This constraint validates the cardinality of the association at the used direction.";
        sh:group        dm:CardinalityGroup;
        sh:maxCount     1;
        sh:message      "Cardinality violation. Upper bound shall be 1";
        sh:name         "Dataset.publisher-cardinality";
        sh:order        41;
        sh:path         dcat:Dataset.publisher;
        sh:severity     sh:Violation .

dm:usedSettings-valueType
        rdf:type        sh:PropertyShape;
        sh:description  "This constraint validates the value type of the association at the used direction.";
        sh:group        dm:AssociationsGroup;
        sh:in           ( dcat:Dataset );
        sh:message      "One of the following does not conform: 1) The value type shall be IRI; 2) The value type shall be an instance of the class: dcat:Dataset";
        sh:name         "usedSettings-valueType";
        sh:nodeKind     sh:IRI;
        sh:order        40;
        sh:path         ( eumd:usedSettings rdf:type );
        sh:severity     sh:Violation .

dm:endDate-datatype  rdf:type  sh:PropertyShape;
        sh:datatype     xsd:dateTimeStamp;
        sh:description  "This constraint validates the datatype of the property (attribute).";
        sh:group        dm:DatatypesGroup;
        sh:message      "The datatype is not literal or it violates the xsd datatype.";
        sh:name         "endDate-datatype";
        sh:nodeKind     sh:Literal;
        sh:order        36;
        sh:path         dcat:endDate;
        sh:severity     sh:Violation .

dm:endDate-cardinality
        rdf:type        sh:PropertyShape;
        sh:description  "This constraint validates the cardinality of the property (attribute).";
        sh:group        dm:CardinalityGroup;
        sh:maxCount     1;
        sh:message      "Cardinality violation. Upper bound shall be 1";
        sh:name         "endDate-cardinality";
        sh:order        36;
        sh:path         dcat:endDate;
        sh:severity     sh:Violation .

dm:Resource9-cardinality
        rdf:type        sh:PropertyShape;
        sh:description  "This constraint validates the cardinality of the association at the inverse direction.";
        sh:group        dm:CardinalityGroup;
        sh:maxCount     1;
        sh:message      "Cardinality violation. Upper bound shall be 1";
        sh:name         "Resource9-cardinality";
        sh:order        35;
        sh:path         [ sh:inversePath  dcat:hasCurrentVersion ];
        sh:severity     sh:Violation .

dm:Resource7-cardinality
        rdf:type        sh:PropertyShape;
        sh:description  "This constraint validates the cardinality of the association at the inverse direction.";
        sh:group        dm:CardinalityGroup;
        sh:maxCount     1;
        sh:message      "Cardinality violation. Upper bound shall be 1";
        sh:name         "Resource7-cardinality";
        sh:order        34;
        sh:path         [ sh:inversePath  dcat:previousVersion ];
        sh:severity     sh:Violation .

dm:Resource8-cardinality
        rdf:type        sh:PropertyShape;
        sh:description  "This constraint validates the cardinality of the association at the inverse direction.";
        sh:group        dm:CardinalityGroup;
        sh:maxCount     1;
        sh:message      "Cardinality violation. Upper bound shall be 1";
        sh:name         "Resource8-cardinality";
        sh:order        33;
        sh:path         [ sh:inversePath  dcat:nextVersion ];
        sh:severity     sh:Violation .

dm:keyword-datatype  rdf:type  sh:PropertyShape;
        sh:datatype     xsd:string;
        sh:description  "This constraint validates the datatype of the property (attribute).";
        sh:group        dm:DatatypesGroup;
        sh:message      "The datatype is not literal or it violates the xsd datatype.";
        sh:name         "keyword-datatype";
        sh:nodeKind     sh:Literal;
        sh:order        32;
        sh:path         dcat:keyword;
        sh:severity     sh:Violation .

dm:keyword-cardinality
        rdf:type        sh:PropertyShape;
        sh:description  "This constraint validates the cardinality of the property (attribute).";
        sh:group        dm:CardinalityGroup;
        sh:maxCount     1;
        sh:message      "Cardinality violation. Upper bound shall be 1";
        sh:name         "keyword-cardinality";
        sh:order        32;
        sh:path         dcat:keyword;
        sh:severity     sh:Violation .

dm:wasGeneratedBy-valueType
        rdf:type        sh:PropertyShape;
        sh:description  "This constraint validates the value type of the association at the used direction.";
        sh:group        dm:AssociationsGroup;
        sh:in           ( dcat:Dataset );
        sh:message      "One of the following does not conform: 1) The value type shall be IRI; 2) The value type shall be an instance of the class: dcat:Dataset";
        sh:name         "wasGeneratedBy-valueType";
        sh:nodeKind     sh:IRI;
        sh:order        31;
        sh:path         ( prov:wasGeneratedBy rdf:type );
        sh:severity     sh:Violation .

dm:wasGeneratedBy-cardinality
        rdf:type        sh:PropertyShape;
        sh:description  "This constraint validates the cardinality of the association at the used direction.";
        sh:group        dm:CardinalityGroup;
        sh:maxCount     1;
        sh:message      "Cardinality violation. Upper bound shall be 1";
        sh:name         "wasGeneratedBy-cardinality";
        sh:order        31;
        sh:path         prov:wasGeneratedBy;
        sh:severity     sh:Violation .

dm:spatial-valueType  rdf:type  sh:PropertyShape;
        sh:description  "This constraint validates the value type of the association at the used direction.";
        sh:group        dm:AssociationsGroup;
        sh:in           ( dcat:Dataset );
        sh:message      "One of the following does not conform: 1) The value type shall be IRI; 2) The value type shall be an instance of the class: dcat:Dataset";
        sh:name         "spatial-valueType";
        sh:nodeKind     sh:IRI;
        sh:order        30;
        sh:path         ( dcterms:spatial rdf:type );
        sh:severity     sh:Violation .

dm:spatial-cardinality
        rdf:type        sh:PropertyShape;
        sh:description  "This constraint validates the cardinality of the association at the used direction.";
        sh:group        dm:CardinalityGroup;
        sh:maxCount     1;
        sh:message      "Cardinality violation. Upper bound shall be 1";
        sh:name         "spatial-cardinality";
        sh:order        30;
        sh:path         dcterms:spatial;
        sh:severity     sh:Violation .

dm:hasCurrentVersion-valueType
        rdf:type        sh:PropertyShape;
        sh:description  "This constraint validates the value type of the association at the used direction.";
        sh:group        dm:AssociationsGroup;
        sh:in           ( dcat:Dataset );
        sh:message      "One of the following does not conform: 1) The value type shall be IRI; 2) The value type shall be an instance of the class: dcat:Dataset";
        sh:name         "hasCurrentVersion-valueType";
        sh:nodeKind     sh:IRI;
        sh:order        29;
        sh:path         ( dcat:hasCurrentVersion rdf:type );
        sh:severity     sh:Violation .

dm:hasCurrentVersion-cardinality
        rdf:type        sh:PropertyShape;
        sh:description  "This constraint validates the cardinality of the association at the used direction.";
        sh:group        dm:CardinalityGroup;
        sh:maxCount     1;
        sh:message      "Cardinality violation. Upper bound shall be 1";
        sh:name         "hasCurrentVersion-cardinality";
        sh:order        29;
        sh:path         dcat:hasCurrentVersion;
        sh:severity     sh:Violation .

dm:version-datatype  rdf:type  sh:PropertyShape;
        sh:datatype     xsd:string;
        sh:description  "This constraint validates the datatype of the property (attribute).";
        sh:group        dm:DatatypesGroup;
        sh:message      "The datatype is not literal or it violates the xsd datatype.";
        sh:name         "version-datatype";
        sh:nodeKind     sh:Literal;
        sh:order        28;
        sh:path         dcat:version;
        sh:severity     sh:Violation .

dm:version-cardinality
        rdf:type        sh:PropertyShape;
        sh:description  "This constraint validates the cardinality of the property (attribute).";
        sh:group        dm:CardinalityGroup;
        sh:maxCount     1;
        sh:message      "Cardinality violation. Upper bound shall be 1";
        sh:name         "version-cardinality";
        sh:order        28;
        sh:path         dcat:version;
        sh:severity     sh:Violation .

dm:isVersionOf-valueType
        rdf:type        sh:PropertyShape;
        sh:description  "This constraint validates the value type of the association at the used direction.";
        sh:group        dm:AssociationsGroup;
        sh:in           ( dcat:Dataset );
        sh:message      "One of the following does not conform: 1) The value type shall be IRI; 2) The value type shall be an instance of the class: dcat:Dataset";
        sh:name         "isVersionOf-valueType";
        sh:nodeKind     sh:IRI;
        sh:order        26;
        sh:path         ( dcat:isVersionOf rdf:type );
        sh:severity     sh:Violation .

dm:isVersionOf-cardinality
        rdf:type        sh:PropertyShape;
        sh:description  "This constraint validates the cardinality of the association at the used direction.";
        sh:group        dm:CardinalityGroup;
        sh:maxCount     1;
        sh:message      "Cardinality violation. Upper bound shall be 1";
        sh:name         "isVersionOf-cardinality";
        sh:order        26;
        sh:path         dcat:isVersionOf;
        sh:severity     sh:Violation .

dm:accessRights-valueType
        rdf:type        sh:PropertyShape;
        sh:description  "This constraint validates the value type of the association at the used direction.";
        sh:group        dm:AssociationsGroup;
        sh:in           ( dcat:Dataset );
        sh:message      "One of the following does not conform: 1) The value type shall be IRI; 2) The value type shall be an instance of the class: dcat:Dataset";
        sh:name         "accessRights-valueType";
        sh:nodeKind     sh:IRI;
        sh:order        22;
        sh:path         ( dcterms:accessRights rdf:type );
        sh:severity     sh:Violation .

dm:accessRights-cardinality
        rdf:type        sh:PropertyShape;
        sh:description  "This constraint validates the cardinality of the association at the used direction.";
        sh:group        dm:CardinalityGroup;
        sh:maxCount     1;
        sh:message      "Cardinality violation. Upper bound shall be 1";
        sh:name         "accessRights-cardinality";
        sh:order        22;
        sh:path         dcterms:accessRights;
        sh:severity     sh:Violation .

dm:startDate-datatype
        rdf:type        sh:PropertyShape;
        sh:datatype     xsd:dateTimeStamp;
        sh:description  "This constraint validates the datatype of the property (attribute).";
        sh:group        dm:DatatypesGroup;
        sh:message      "The datatype is not literal or it violates the xsd datatype.";
        sh:name         "startDate-datatype";
        sh:nodeKind     sh:Literal;
        sh:order        15;
        sh:path         dcat:startDate;
        sh:severity     sh:Violation .

dm:startDate-cardinality
        rdf:type        sh:PropertyShape;
        sh:description  "This constraint validates the cardinality of the property (attribute).";
        sh:group        dm:CardinalityGroup;
        sh:maxCount     1;
        sh:message      "Cardinality violation. Upper bound shall be 1";
        sh:name         "startDate-cardinality";
        sh:order        15;
        sh:path         dcat:startDate;
        sh:severity     sh:Violation .

dm:accrualPeriodicity-valueType
        rdf:type        sh:PropertyShape;
        sh:description  "This constraint validates the value type of the association at the used direction.";
        sh:group        dm:AssociationsGroup;
        sh:in           ( dcat:Dataset );
        sh:message      "One of the following does not conform: 1) The value type shall be IRI; 2) The value type shall be an instance of the class: dcat:Dataset";
        sh:name         "accrualPeriodicity-valueType";
        sh:nodeKind     sh:IRI;
        sh:order        14;
        sh:path         ( dcterms:accrualPeriodicity rdf:type );
        sh:severity     sh:Violation .

dm:accrualPeriodicity-cardinality
        rdf:type        sh:PropertyShape;
        sh:description  "This constraint validates the cardinality of the association at the used direction.";
        sh:group        dm:CardinalityGroup;
        sh:maxCount     1;
        sh:message      "Cardinality violation. Upper bound shall be 1";
        sh:name         "accrualPeriodicity-cardinality";
        sh:order        14;
        sh:path         dcterms:accrualPeriodicity;
        sh:severity     sh:Violation .

dm:type-valueType  rdf:type  sh:PropertyShape;
        sh:description  "This constraint validates the value type of the association at the used direction.";
        sh:group        dm:AssociationsGroup;
        sh:in           ( dcat:Dataset );
        sh:message      "One of the following does not conform: 1) The value type shall be IRI; 2) The value type shall be an instance of the class: dcat:Dataset";
        sh:name         "type-valueType";
        sh:nodeKind     sh:IRI;
        sh:order        13;
        sh:path         ( dcterms:type rdf:type );
        sh:severity     sh:Violation .

dm:type-cardinality  rdf:type  sh:PropertyShape;
        sh:description  "This constraint validates the cardinality of the association at the used direction.";
        sh:group        dm:CardinalityGroup;
        sh:maxCount     1;
        sh:message      "Cardinality violation. Upper bound shall be 1";
        sh:name         "type-cardinality";
        sh:order        13;
        sh:path         dcterms:type;
        sh:severity     sh:Violation .

dm:title-datatype  rdf:type  sh:PropertyShape;
        sh:datatype     xsd:string;
        sh:description  "This constraint validates the datatype of the property (attribute).";
        sh:group        dm:DatatypesGroup;
        sh:message      "The datatype is not literal or it violates the xsd datatype.";
        sh:name         "title-datatype";
        sh:nodeKind     sh:Literal;
        sh:order        12;
        sh:path         dcterms:title;
        sh:severity     sh:Violation .

dm:title-cardinality  rdf:type  sh:PropertyShape;
        sh:description  "This constraint validates the cardinality of the property (attribute).";
        sh:group        dm:CardinalityGroup;
        sh:maxCount     1;
        sh:message      "Cardinality violation. Upper bound shall be 1";
        sh:name         "title-cardinality";
        sh:order        12;
        sh:path         dcterms:title;
        sh:severity     sh:Violation .

dm:description-datatype
        rdf:type        sh:PropertyShape;
        sh:datatype     xsd:string;
        sh:description  "This constraint validates the datatype of the property (attribute).";
        sh:group        dm:DatatypesGroup;
        sh:message      "The datatype is not literal or it violates the xsd datatype.";
        sh:name         "description-datatype";
        sh:nodeKind     sh:Literal;
        sh:order        11;
        sh:path         dcterms:description;
        sh:severity     sh:Violation .

dm:description-cardinality
        rdf:type        sh:PropertyShape;
        sh:description  "This constraint validates the cardinality of the property (attribute).";
        sh:group        dm:CardinalityGroup;
        sh:maxCount     1;
        sh:message      "Cardinality violation. Upper bound shall be 1";
        sh:name         "description-cardinality";
        sh:order        11;
        sh:path         dcterms:description;
        sh:severity     sh:Violation .

dm:rightsHolder-datatype
        rdf:type        sh:PropertyShape;
        sh:datatype     xsd:string;
        sh:description  "This constraint validates the datatype of the property (attribute).";
        sh:group        dm:DatatypesGroup;
        sh:message      "The datatype is not literal or it violates the xsd datatype.";
        sh:name         "rightsHolder-datatype";
        sh:nodeKind     sh:Literal;
        sh:order        8;
        sh:path         dcterms:rightsHolder;
        sh:severity     sh:Violation .

dm:rightsHolder-cardinality
        rdf:type        sh:PropertyShape;
        sh:description  "This constraint validates the cardinality of the property (attribute).";
        sh:group        dm:CardinalityGroup;
        sh:maxCount     1;
        sh:message      "Cardinality violation. Upper bound shall be 1";
        sh:name         "rightsHolder-cardinality";
        sh:order        8;
        sh:path         dcterms:rightsHolder;
        sh:severity     sh:Violation .

dm:rights-datatype  rdf:type  sh:PropertyShape;
        sh:datatype     xsd:string;
        sh:description  "This constraint validates the datatype of the property (attribute).";
        sh:group        dm:DatatypesGroup;
        sh:message      "The datatype is not literal or it violates the xsd datatype.";
        sh:name         "rights-datatype";
        sh:nodeKind     sh:Literal;
        sh:order        7;
        sh:path         dcterms:rights;
        sh:severity     sh:Violation .

dm:rights-cardinality
        rdf:type        sh:PropertyShape;
        sh:description  "This constraint validates the cardinality of the property (attribute).";
        sh:group        dm:CardinalityGroup;
        sh:maxCount     1;
        sh:message      "Cardinality violation. Upper bound shall be 1";
        sh:name         "rights-cardinality";
        sh:order        7;
        sh:path         dcterms:rights;
        sh:severity     sh:Violation .

dm:inSeries-valueType
        rdf:type        sh:PropertyShape;
        sh:description  "This constraint validates the value type of the association at the used direction.";
        sh:group        dm:AssociationsGroup;
        sh:in           ( dcat:Dataset );
        sh:message      "One of the following does not conform: 1) The value type shall be IRI; 2) The value type shall be an instance of the class: dcat:Dataset";
        sh:name         "inSeries-valueType";
        sh:nodeKind     sh:IRI;
        sh:order        6;
        sh:path         ( dcat:inSeries rdf:type );
        sh:severity     sh:Violation .

dm:inSeries-cardinality
        rdf:type        sh:PropertyShape;
        sh:description  "This constraint validates the cardinality of the association at the used direction.";
        sh:group        dm:CardinalityGroup;
        sh:maxCount     1;
        sh:message      "Cardinality violation. Upper bound shall be 1";
        sh:name         "inSeries-cardinality";
        sh:order        6;
        sh:path         dcat:inSeries;
        sh:severity     sh:Violation .

dm:preferredVersion-valueType
        rdf:type        sh:PropertyShape;
        sh:description  "This constraint validates the value type of the association at the used direction.";
        sh:group        dm:AssociationsGroup;
        sh:in           ( dcat:Dataset );
        sh:message      "One of the following does not conform: 1) The value type shall be IRI; 2) The value type shall be an instance of the class: dcat:Dataset";
        sh:name         "preferredVersion-valueType";
        sh:nodeKind     sh:IRI;
        sh:order        5;
        sh:path         ( dcat-cim:preferredVersion rdf:type );
        sh:severity     sh:Violation .

dm:preferredVersion-cardinality
        rdf:type        sh:PropertyShape;
        sh:description  "This constraint validates the cardinality of the association at the used direction.";
        sh:group        dm:CardinalityGroup;
        sh:maxCount     1;
        sh:message      "Cardinality violation. Upper bound shall be 1";
        sh:name         "preferredVersion-cardinality";
        sh:order        5;
        sh:path         dcat-cim:preferredVersion;
        sh:severity     sh:Violation .

dm:issued-datatype  rdf:type  sh:PropertyShape;
        sh:datatype     xsd:dateTime;
        sh:description  "This constraint validates the datatype of the property (attribute).";
        sh:group        dm:DatatypesGroup;
        sh:message      "The datatype is not literal or it violates the xsd datatype.";
        sh:name         "issued-datatype";
        sh:nodeKind     sh:Literal;
        sh:order        4;
        sh:path         dcterms:issued;
        sh:severity     sh:Violation .

dm:issued-cardinality
        rdf:type        sh:PropertyShape;
        sh:description  "This constraint validates the cardinality of the property (attribute).";
        sh:group        dm:CardinalityGroup;
        sh:maxCount     1;
        sh:message      "Cardinality violation. Upper bound shall be 1";
        sh:name         "issued-cardinality";
        sh:order        4;
        sh:path         dcterms:issued;
        sh:severity     sh:Violation .

dm:nextVersion-valueType
        rdf:type        sh:PropertyShape;
        sh:description  "This constraint validates the value type of the association at the used direction.";
        sh:group        dm:AssociationsGroup;
        sh:in           ( dcat:Dataset );
        sh:message      "One of the following does not conform: 1) The value type shall be IRI; 2) The value type shall be an instance of the class: dcat:Dataset";
        sh:name         "nextVersion-valueType";
        sh:nodeKind     sh:IRI;
        sh:order        3;
        sh:path         ( dcat:nextVersion rdf:type );
        sh:severity     sh:Violation .

dm:nextVersion-cardinality
        rdf:type        sh:PropertyShape;
        sh:description  "This constraint validates the cardinality of the association at the used direction.";
        sh:group        dm:CardinalityGroup;
        sh:maxCount     1;
        sh:message      "Cardinality violation. Upper bound shall be 1";
        sh:name         "nextVersion-cardinality";
        sh:order        3;
        sh:path         dcat:nextVersion;
        sh:severity     sh:Violation .

dm:license-valueType  rdf:type  sh:PropertyShape;
        sh:description  "This constraint validates the value type of the association at the used direction.";
        sh:group        dm:AssociationsGroup;
        sh:in           ( dcat:Dataset );
        sh:message      "One of the following does not conform: 1) The value type shall be IRI; 2) The value type shall be an instance of the class: dcat:Dataset";
        sh:name         "license-valueType";
        sh:nodeKind     sh:IRI;
        sh:order        2;
        sh:path         ( dcterms:license rdf:type );
        sh:severity     sh:Violation .

dm:license-cardinality
        rdf:type        sh:PropertyShape;
        sh:description  "This constraint validates the cardinality of the association at the used direction.";
        sh:group        dm:CardinalityGroup;
        sh:maxCount     1;
        sh:message      "Cardinality violation. Upper bound shall be 1";
        sh:name         "license-cardinality";
        sh:order        2;
        sh:path         dcterms:license;
        sh:severity     sh:Violation .

dm:references-valueType
        rdf:type        sh:PropertyShape;
        sh:description  "This constraint validates the value type of the association at the used direction.";
        sh:group        dm:AssociationsGroup;
        sh:in           ( dcat:Dataset );
        sh:message      "One of the following does not conform: 1) The value type shall be IRI; 2) The value type shall be an instance of the class: dcat:Dataset";
        sh:name         "references-valueType";
        sh:nodeKind     sh:IRI;
        sh:order        1;
        sh:path         ( dcterms:references rdf:type );
        sh:severity     sh:Violation .

dm:HasPart-valueType  rdf:type  sh:PropertyShape;
        sh:description  "This constraint validates the value type of the association at the used direction.";
        sh:group        dm:AssociationsGroup;
        sh:in           ( dcat:Dataset );
        sh:message      "One of the following does not conform: 1) The value type shall be IRI; 2) The value type shall be an instance of the class: dcat:Dataset";
        sh:name         "HasPart-valueType";
        sh:nodeKind     sh:IRI;
        sh:order        0;
        sh:path         ( dcterms:HasPart rdf:type );
        sh:severity     sh:Violation .

dm:Dataset  rdf:type    sh:NodeShape;
        sh:property     dm:temporalResolution-datatype , dm:temporalResolution-cardinality , dm:previousVersion-valueType , dm:previousVersion-cardinality , dm:source-valueType , dm:source-cardinality , dm:alternativeVersionOf-valueType , dm:alternativeVersionOf-cardinality , dm:generatedAtTime-datatype , dm:generatedAtTime-cardinality , dm:identifier-datatype , dm:identifier-cardinality , dm:replaces-valueType , dm:versionNotes-datatype , dm:versionNotes-cardinality , dm:processType-valueType , dm:processType-cardinality , dm:conformsTo-valueType , dm:Dataset.publisher-valueType , dm:Dataset.publisher-cardinality , dm:usedSettings-valueType , dm:endDate-datatype , dm:endDate-cardinality , dm:Resource9-cardinality , dm:Resource7-cardinality , dm:Resource8-cardinality , dm:keyword-datatype , dm:keyword-cardinality , dm:wasGeneratedBy-valueType , dm:wasGeneratedBy-cardinality , dm:spatial-valueType , dm:spatial-cardinality , dm:hasCurrentVersion-valueType , dm:hasCurrentVersion-cardinality , dm:version-datatype , dm:version-cardinality , dm:isVersionOf-valueType , dm:isVersionOf-cardinality , dm:accessRights-valueType , dm:accessRights-cardinality , dm:startDate-datatype , dm:startDate-cardinality , dm:accrualPeriodicity-valueType , dm:accrualPeriodicity-cardinality , dm:type-valueType , dm:type-cardinality , dm:title-datatype , dm:title-cardinality , dm:description-datatype , dm:description-cardinality , dm:rightsHolder-datatype , dm:rightsHolder-cardinality , dm:HasPart-valueType , dm:references-valueType , dm:license-cardinality , dm:license-valueType , dm:nextVersion-cardinality , dm:nextVersion-valueType , dm:issued-cardinality , dm:issued-datatype , dm:preferredVersion-cardinality , dm:preferredVersion-valueType , dm:inSeries-cardinality , dm:inSeries-valueType , dm:rights-cardinality , dm:rights-datatype;
        sh:targetClass  dcat:Dataset .

dm:AssociationsGroup  rdf:type  sh:PropertyGroup;
        rdfs:label  "Associations";
        sh:order    2 .

ido:DatatypesGroupIO  rdf:type  sh:PropertyGroup;
        rdfs:label  "DatatypesIO";
        sh:order    1 .

dm:DatatypesGroup  rdf:type  sh:PropertyGroup;
        rdfs:label  "Datatypes";
        sh:order    1 .

ido:CardinalityGroup  rdf:type  sh:PropertyGroup;
        rdfs:label  "CardinalityIO";
        sh:order    0 .

dm:CardinalityGroup  rdf:type  sh:PropertyGroup;
        rdfs:label  "Cardinality";
        sh:order    0 .




dm:CardinalityGroupCustom  rdf:type  sh:PropertyGroup ;
        rdfs:label  "CardinalityCustom" ;
        sh:order    0 .


dm:LanguageTagGroup  rdf:type  sh:PropertyGroup ;
        rdfs:label  "LanguageTagGroup" ;
        sh:order    0 .


dm:Dataset  rdf:type  sh:NodeShape ;
        sh:property     dm:spatial-NC-cardinality, dm:isVersionOf-NC-cardinality, dm:wasGeneratedBy-NC-cardinality, dm:accrualPeriodicity-NC-cardinality, dm:usedSettings-NC-cardinality, dm:accessRights-NC-cardinality, dm:conformsTo-NC-cardinality, dm:publisher-NC-cardinality, dm:references-NC-cardinality, dm:identifier-NC-cardinality, dm:issued-NC-cardinality, dm:title-NC-cardinality, dm:keyword-NC-cardinality, dm:version-NC-cardinality, dm:startDate-NC-cardinality,  dm:replaces-cardinality, dm:alternativeVersionAndPreferredVersion-dependency ;
        sh:targetClass  dcat:Dataset .

dm:spatial-NC-cardinality
        a               sh:PropertyShape ;
        sh:sparql       dm:spatial-NC-cardinalitySparql ;
        sh:description  "This constraint validates the cardinality of the property (attribute)." ;
        sh:name         "spatial-NC-cardinality" ;
        sh:path         dcterms:spatial ;
        sh:group        dm:CardinalityGroupCustom ;
        sh:order        1 ;
        sh:severity     sh:Violation .
        
    
dm:spatial-NC-cardinalitySparql
		a         sh:SPARQLConstraint ;  
		sh:message "Cardinality violation. Missing required property." ;
		sh:prefixes cim: ;
		sh:select """
	      SELECT $this ?value ?v
        WHERE {
		$this dcterms:conformsTo ?conformsTo .
		{
			SELECT $this (count(?value) as ?v)
			WHERE {
			OPTIONAL {$this $PATH ?value } .
			}
			GROUP BY $this $PATH 
		}
        FILTER (?v=0 && ?conformsTo IN (<https://ap.cim4.eu/AssessedElement/2.3> , <https://ap.cim4.eu/Contingency/2.3>, <https://ap.cim4.eu/AvailabilitySchedule/2.3>, <https://ap.cim4.eu/EquipmentReliability/2.3>, <https://ap.cim4.eu/ImpactAssessmentMatrix/2.3>, <https://ap.cim4.eu/MonitoringArea/2.3>, <https://ap.cim4.eu/PowerSchedule/2.3>, <https://ap.cim4.eu/RemedialAction/2.3>, <https://ap.cim4.eu/RemedialActionSchedule/2.3>, <https://ap.cim4.eu/SecurityAnalysisResult/2.4>, <https://ap.cim4.eu/SensitivityMatrix/2.3>, <https://ap.cim4.eu/StateInstructionSchedule/2.3>, <https://ap.cim4.eu/SteadyStateInstruction/2.3>, <https://ap.cim4.eu/SteadyStateHypothesisSchedule/1.0>, <https://ap.cim4.eu/PowerSystemProject/2.3>, <https://ap.cim4.eu/ObjectRegistry/2.2>)).
        }""" . 
		
dm:isVersionOf-NC-cardinality
        a               sh:PropertyShape ;
        sh:sparql       dm:isVersionOf-NC-cardinalitySparql ;
        sh:description  "This constraint validates the cardinality of the property (attribute)." ;
        sh:name         "isVersionOf-NC-cardinality" ;
        sh:path         dcat:isVersionOf ;
        sh:group        dm:CardinalityGroupCustom ;
        sh:order        2 ;
        sh:severity     sh:Violation .
        
    
dm:isVersionOf-NC-cardinalitySparql
		a         sh:SPARQLConstraint ;  
		sh:message "Cardinality violation. Missing required property." ;
		sh:prefixes cim: ;
		sh:select """
	      SELECT $this ?value ?v
        WHERE {
		$this dcterms:conformsTo ?conformsTo .
		{
			SELECT $this (count(?value) as ?v)
			WHERE {
			OPTIONAL {$this $PATH ?value } .
			}
			GROUP BY $this $PATH 
		}
        FILTER (?v=0 && ?conformsTo IN (<https://ap.cim4.eu/AssessedElement/2.3> , <https://ap.cim4.eu/Contingency/2.3>, <https://ap.cim4.eu/AvailabilitySchedule/2.3>, <https://ap.cim4.eu/EquipmentReliability/2.3>, <https://ap.cim4.eu/ImpactAssessmentMatrix/2.3>, <https://ap.cim4.eu/MonitoringArea/2.3>, <https://ap.cim4.eu/PowerSchedule/2.3>, <https://ap.cim4.eu/RemedialAction/2.3>, <https://ap.cim4.eu/RemedialActionSchedule/2.3>, <https://ap.cim4.eu/SecurityAnalysisResult/2.4>, <https://ap.cim4.eu/SensitivityMatrix/2.3>, <https://ap.cim4.eu/StateInstructionSchedule/2.3>, <https://ap.cim4.eu/SteadyStateInstruction/2.3>, <https://ap.cim4.eu/SteadyStateHypothesisSchedule/1.0>, <https://ap.cim4.eu/PowerSystemProject/2.3>, <https://ap.cim4.eu/ObjectRegistry/2.2> )).
        }""" . 		
		
dm:wasGeneratedBy-NC-cardinality
        a               sh:PropertyShape ;
        sh:sparql       dm:wasGeneratedBy-NC-cardinalitySparql ;
        sh:description  "This constraint validates the cardinality of the property (attribute)." ;
        sh:name         "wasGeneratedBy-NC-cardinality" ;
        sh:path         prov:wasGeneratedBy ;
        sh:group        dm:CardinalityGroupCustom ;
        sh:order        3 ;
        sh:severity     sh:Violation .
        
    
dm:wasGeneratedBy-NC-cardinalitySparql
		a         sh:SPARQLConstraint ;  
		sh:message "Cardinality violation. Missing required property." ;
		sh:prefixes cim: ;
		sh:select """
	      SELECT $this ?value ?v
        WHERE {
		$this dcterms:conformsTo ?conformsTo .
		{
			SELECT $this (count(?value) as ?v)
			WHERE {
			OPTIONAL {$this $PATH ?value } .
			}
			GROUP BY $this $PATH 
		}
        FILTER (?v=0 && ?conformsTo IN (<https://ap.cim4.eu/AssessedElement/2.3> , <https://ap.cim4.eu/Contingency/2.3>, <https://ap.cim4.eu/AvailabilitySchedule/2.3>, <https://ap.cim4.eu/EquipmentReliability/2.3>, <https://ap.cim4.eu/ImpactAssessmentMatrix/2.3>, <https://ap.cim4.eu/MonitoringArea/2.3>, <https://ap.cim4.eu/PowerSchedule/2.3>, <https://ap.cim4.eu/RemedialAction/2.3>, <https://ap.cim4.eu/RemedialActionSchedule/2.3>, <https://ap.cim4.eu/SecurityAnalysisResult/2.4>, <https://ap.cim4.eu/SensitivityMatrix/2.3>, <https://ap.cim4.eu/StateInstructionSchedule/2.3>, <https://ap.cim4.eu/SteadyStateInstruction/2.3>, <https://ap.cim4.eu/SteadyStateHypothesisSchedule/1.0>, <https://ap.cim4.eu/PowerSystemProject/2.3>, <https://ap.cim4.eu/ObjectRegistry/2.2> )).
        }""" . 				
		
dm:accrualPeriodicity-NC-cardinality
        a               sh:PropertyShape ;
        sh:sparql       dm:accrualPeriodicity-NC-cardinalitySparql ;
        sh:description  "This constraint validates the cardinality of the property (attribute)." ;
        sh:name         "accrualPeriodicity-NC-cardinality" ;
        sh:path         prov:accrualPeriodicity ;
        sh:group        dm:CardinalityGroupCustom ;
        sh:order        4 ;
        sh:severity     sh:Violation .
        
    
dm:accrualPeriodicity-NC-cardinalitySparql
		a         sh:SPARQLConstraint ;  
		sh:message "Cardinality violation. Missing required property." ;
		sh:prefixes cim: ;
		sh:select """
	      SELECT $this ?value ?v
        WHERE {
		$this dcterms:conformsTo ?conformsTo .
		{
			SELECT $this (count(?value) as ?v)
			WHERE {
			OPTIONAL {$this $PATH ?value } .
			}
			GROUP BY $this $PATH 
		}
        FILTER (?v=0 && ?conformsTo IN (<https://ap.cim4.eu/ImpactAssessmentMatrix/2.3> , <https://ap.cim4.eu/RemedialActionSchedule/2.3>, <https://ap.cim4.eu/SecurityAnalysisResult/2.4> )).
        }""" . 						
		
dm:usedSettings-NC-cardinality
        a               sh:PropertyShape ;
        sh:sparql       dm:usedSettings-NC-cardinalitySparql ;
        sh:description  "This constraint validates the cardinality of the property (attribute)." ;
        sh:name         "usedSettings-NC-cardinality" ;
        sh:path         eumd:usedSettings ;
        sh:group        dm:CardinalityGroupCustom ;
        sh:order        5 ;
        sh:severity     sh:Violation .
        
    
dm:usedSettings-NC-cardinalitySparql
		a         sh:SPARQLConstraint ;  
		sh:message "Cardinality violation. Missing required property." ;
		sh:prefixes cim: ;
		sh:select """
	      SELECT $this ?value ?v
        WHERE {
		$this dcterms:conformsTo ?conformsTo .
		{
			SELECT $this (count(?value) as ?v)
			WHERE {
			OPTIONAL {$this $PATH ?value } .
			}
			GROUP BY $this $PATH 
		}
        FILTER (?v=0 && ?conformsTo IN (<https://ap.cim4.eu/SecurityAnalysisResult/2.4> )).
        }""" . 			
		
dm:accessRights-NC-cardinality
        a               sh:PropertyShape ;
        sh:sparql       dm:accessRights-NC-cardinalitySparql ;
        sh:description  "This constraint validates the cardinality of the property (attribute)." ;
        sh:name         "accessRights-NC-cardinality" ;
        sh:path         dcterms:accessRights ;
        sh:group        dm:CardinalityGroupCustom ;
        sh:order        6 ;
        sh:severity     sh:Violation .
        
    
dm:accessRights-NC-cardinalitySparql
		a         sh:SPARQLConstraint ;  
		sh:message "Cardinality violation. Missing required property." ;
		sh:prefixes cim: ;
		sh:select """
	      SELECT $this ?value ?v
        WHERE {
		$this dcterms:conformsTo ?conformsTo .
		{
			SELECT $this (count(?value) as ?v)
			WHERE {
			OPTIONAL {$this $PATH ?value } .
			}
			GROUP BY $this $PATH 
		}
        FILTER (?v=0 && ?conformsTo IN (<https://ap.cim4.eu/AssessedElement/2.3> , <https://ap.cim4.eu/Contingency/2.3>, <https://ap.cim4.eu/AvailabilitySchedule/2.3>, <https://ap.cim4.eu/EquipmentReliability/2.3>, <https://ap.cim4.eu/ImpactAssessmentMatrix/2.3>, <https://ap.cim4.eu/MonitoringArea/2.3>, <https://ap.cim4.eu/PowerSchedule/2.3>, <https://ap.cim4.eu/RemedialAction/2.3>, <https://ap.cim4.eu/RemedialActionSchedule/2.3>, <https://ap.cim4.eu/SecurityAnalysisResult/2.4>, <https://ap.cim4.eu/SensitivityMatrix/2.3>, <https://ap.cim4.eu/StateInstructionSchedule/2.3>, <https://ap.cim4.eu/SteadyStateInstruction/2.3>, <https://ap.cim4.eu/SteadyStateHypothesisSchedule/1.0>, <https://ap.cim4.eu/PowerSystemProject/2.3>, <https://ap.cim4.eu/ObjectRegistry/2.2> )).
        }""" . 		
		
dm:conformsTo-NC-cardinality
        a               sh:PropertyShape ;
        sh:sparql       dm:conformsTo-NC-cardinalitySparql ;
        sh:description  "This constraint validates the cardinality of the property (attribute)." ;
        sh:name         "C:MD:ALL:Dataset.conformsTo:cardinality" ;
        sh:path         rdf:type ;
        sh:group        dm:CardinalityGroupCustom ;
        sh:order        7 ;
        sh:severity     sh:Violation .
        
    
dm:conformsTo-NC-cardinalitySparql
		a         sh:SPARQLConstraint ;  
		sh:message "Cardinality violation. Missing required property." ;
		sh:prefixes cim: ;
		sh:select """
	      SELECT $this ?value 
        WHERE {

		#{
		#	SELECT $this (count(?value) as ?v)
		#	WHERE {
		#	OPTIONAL {$this $PATH ?value } .
		#	}
		#	GROUP BY $this $PATH 
		#}
		$this dcterms:spatial ?spatial .
		OPTIONAL {$this dcterms:conformsTo ?conformsTo }.
		
        #FILTER (?v=0 && ?conformsTo IN (<https://ap.cim4.eu/AssessedElement/2.3> , <https://ap.cim4.eu/Contingency/2.3>, <https://ap.cim4.eu/AvailabilitySchedule/2.3>, <https://ap.cim4.eu/EquipmentReliability/2.3>, <https://ap.cim4.eu/ImpactAssessmentMatrix/2.3>, <https://ap.cim4.eu/MonitoringArea/2.3>, <https://ap.cim4.eu/PowerSchedule/2.3>, <https://ap.cim4.eu/RemedialAction/2.3>, <https://ap.cim4.eu/RemedialActionSchedule/2.3>, <https://ap.cim4.eu/SecurityAnalysisResult/2.4>, <https://ap.cim4.eu/SensitivityMatrix/2.3>, <https://ap.cim4.eu/StateInstructionSchedule/2.3>, <https://ap.cim4.eu/SteadyStateInstruction/2.3>, <https://ap.cim4.eu/SteadyStateHypothesisSchedule/1.0>, <https://ap.cim4.eu/PowerSystemProject/2.3>, <https://ap.cim4.eu/ObjectRegistry/2.2> ) && ?spatial!=<https://energy.referencedata.eu/Frame/BoundaryModel> && bound(?conformsTo)).
		FILTER (?spatial!=<https://energy.referencedata.eu/Frame/BoundaryModel> && !bound(?conformsTo)).
        }""" . 		

dm:publisher-NC-cardinality
        a               sh:PropertyShape ;
        sh:sparql       dm:publisher-NC-cardinalitySparql ;
        sh:description  "This constraint validates the cardinality of the property (attribute)." ;
        sh:name         "publisher-NC-cardinality" ;
        sh:path         dcterms:publisher ;
        sh:group        dm:CardinalityGroupCustom ;
        sh:order        8 ;
        sh:severity     sh:Violation .
        
    
dm:publisher-NC-cardinalitySparql
		a         sh:SPARQLConstraint ;  
		sh:message "Cardinality violation. Missing required property." ;
		sh:prefixes cim: ;
		sh:select """
	      SELECT $this ?value ?v
        WHERE {
		$this dcterms:conformsTo ?conformsTo .
		{
			SELECT $this (count(?value) as ?v)
			WHERE {
			OPTIONAL {$this $PATH ?value } .
			}
			GROUP BY $this $PATH 
		}
        FILTER (?v=0 && ?conformsTo IN (<https://ap.cim4.eu/AssessedElement/2.3> , <https://ap.cim4.eu/Contingency/2.3>, <https://ap.cim4.eu/AvailabilitySchedule/2.3>, <https://ap.cim4.eu/EquipmentReliability/2.3>, <https://ap.cim4.eu/ImpactAssessmentMatrix/2.3>, <https://ap.cim4.eu/MonitoringArea/2.3>, <https://ap.cim4.eu/PowerSchedule/2.3>, <https://ap.cim4.eu/RemedialAction/2.3>, <https://ap.cim4.eu/RemedialActionSchedule/2.3>, <https://ap.cim4.eu/SecurityAnalysisResult/2.4>, <https://ap.cim4.eu/SensitivityMatrix/2.3>, <https://ap.cim4.eu/StateInstructionSchedule/2.3>, <https://ap.cim4.eu/SteadyStateInstruction/2.3>, <https://ap.cim4.eu/SteadyStateHypothesisSchedule/1.0>, <https://ap.cim4.eu/PowerSystemProject/2.3>, <https://ap.cim4.eu/ObjectRegistry/2.2> )).
        }""" . 			
		
dm:references-NC-cardinality
        a               sh:PropertyShape ;
        sh:sparql       dm:references-NC-cardinalitySparql ;
        sh:description  "This constraint validates the cardinality of the property (attribute)." ;
        sh:name         "references-NC-cardinality" ;
        sh:path         dcterms:references ;
        sh:group        dm:CardinalityGroupCustom ;
        sh:order        9 ;
        sh:severity     sh:Violation .
        
    
dm:references-NC-cardinalitySparql
		a         sh:SPARQLConstraint ;  
		sh:message "Cardinality violation. Missing required property." ;
		sh:prefixes cim: ;
		sh:select """
	      SELECT $this ?value ?v
        WHERE {
		$this dcterms:conformsTo ?conformsTo .
		{
			SELECT $this (count(?value) as ?v)
			WHERE {
			OPTIONAL {$this $PATH ?value } .
			}
			GROUP BY $this $PATH 
		}
        FILTER (?v=0 && ?conformsTo IN (<https://ap.cim4.eu/AssessedElement/2.3> , <https://ap.cim4.eu/Contingency/2.3>, <https://ap.cim4.eu/AvailabilitySchedule/2.3>, <https://ap.cim4.eu/EquipmentReliability/2.3>, <https://ap.cim4.eu/ImpactAssessmentMatrix/2.3>, <https://ap.cim4.eu/MonitoringArea/2.3>, <https://ap.cim4.eu/PowerSchedule/2.3>, <https://ap.cim4.eu/RemedialAction/2.3>, <https://ap.cim4.eu/RemedialActionSchedule/2.3>, <https://ap.cim4.eu/SecurityAnalysisResult/2.4>, <https://ap.cim4.eu/SensitivityMatrix/2.3>, <https://ap.cim4.eu/StateInstructionSchedule/2.3>, <https://ap.cim4.eu/SteadyStateInstruction/2.3>, <https://ap.cim4.eu/SteadyStateHypothesisSchedule/1.0>, <https://ap.cim4.eu/PowerSystemProject/2.3>, <https://ap.cim4.eu/ObjectRegistry/2.2> )).
        }""" . 					
		
dm:identifier-NC-cardinality
        a               sh:PropertyShape ;
        sh:sparql       dm:identifier-NC-cardinalitySparql ;
        sh:description  "This constraint validates the cardinality of the property (attribute)." ;
        sh:name         "identifier-NC-cardinality" ;
        sh:path         dcterms:identifier ;
        sh:group        dm:CardinalityGroupCustom ;
        sh:order        10 ;
        sh:severity     sh:Violation .
        
    
dm:identifier-NC-cardinalitySparql
		a         sh:SPARQLConstraint ;  
		sh:message "Cardinality violation. Missing required property." ;
		sh:prefixes cim: ;
		sh:select """
	      SELECT $this ?value ?v
        WHERE {
		$this dcterms:conformsTo ?conformsTo .
		{
			SELECT $this (count(?value) as ?v)
			WHERE {
			OPTIONAL {$this $PATH ?value } .
			}
			GROUP BY $this $PATH 
		}
        FILTER (?v=0 && ?conformsTo IN (<https://ap.cim4.eu/AssessedElement/2.3> , <https://ap.cim4.eu/Contingency/2.3>, <https://ap.cim4.eu/AvailabilitySchedule/2.3>, <https://ap.cim4.eu/EquipmentReliability/2.3>, <https://ap.cim4.eu/ImpactAssessmentMatrix/2.3>, <https://ap.cim4.eu/MonitoringArea/2.3>, <https://ap.cim4.eu/PowerSchedule/2.3>, <https://ap.cim4.eu/RemedialAction/2.3>, <https://ap.cim4.eu/RemedialActionSchedule/2.3>, <https://ap.cim4.eu/SecurityAnalysisResult/2.4>, <https://ap.cim4.eu/SensitivityMatrix/2.3>, <https://ap.cim4.eu/StateInstructionSchedule/2.3>, <https://ap.cim4.eu/SteadyStateInstruction/2.3>, <https://ap.cim4.eu/SteadyStateHypothesisSchedule/1.0>, <https://ap.cim4.eu/PowerSystemProject/2.3>, <https://ap.cim4.eu/ObjectRegistry/2.2> )).
        }""" . 			
		
dm:issued-NC-cardinality
        a               sh:PropertyShape ;
        sh:sparql       dm:issued-NC-cardinalitySparql ;
        sh:description  "This constraint validates the cardinality of the property (attribute)." ;
        sh:name         "issued-NC-cardinality" ;
        sh:path         dcterms:issued ;
        sh:group        dm:CardinalityGroupCustom ;
        sh:order        11 ;
        sh:severity     sh:Violation .
        
    
dm:issued-NC-cardinalitySparql
		a         sh:SPARQLConstraint ;  
		sh:message "Cardinality violation. Missing required property." ;
		sh:prefixes cim: ;
		sh:select """
	      SELECT $this ?value ?v
        WHERE {
		$this dcterms:conformsTo ?conformsTo .
		{
			SELECT $this (count(?value) as ?v)
			WHERE {
			OPTIONAL {$this $PATH ?value } .
			}
			GROUP BY $this $PATH 
		}
        FILTER (?v=0 && ?conformsTo IN (<https://ap.cim4.eu/AssessedElement/2.3> , <https://ap.cim4.eu/Contingency/2.3>, <https://ap.cim4.eu/AvailabilitySchedule/2.3>, <https://ap.cim4.eu/EquipmentReliability/2.3>, <https://ap.cim4.eu/ImpactAssessmentMatrix/2.3>, <https://ap.cim4.eu/MonitoringArea/2.3>, <https://ap.cim4.eu/PowerSchedule/2.3>, <https://ap.cim4.eu/RemedialAction/2.3>, <https://ap.cim4.eu/RemedialActionSchedule/2.3>, <https://ap.cim4.eu/SecurityAnalysisResult/2.4>, <https://ap.cim4.eu/SensitivityMatrix/2.3>, <https://ap.cim4.eu/StateInstructionSchedule/2.3>, <https://ap.cim4.eu/SteadyStateInstruction/2.3>, <https://ap.cim4.eu/SteadyStateHypothesisSchedule/1.0>, <https://ap.cim4.eu/PowerSystemProject/2.3>, <https://ap.cim4.eu/ObjectRegistry/2.2> )).
        }""" . 			
		
dm:title-NC-cardinality
        a               sh:PropertyShape ;
        sh:sparql       dm:title-NC-cardinalitySparql ;
        sh:description  "This constraint validates the cardinality of the property (attribute)." ;
        sh:name         "title-NC-cardinality" ;
        sh:path         dcterms:title ;
        sh:group        dm:CardinalityGroupCustom ;
        sh:order        12 ;
        sh:severity     sh:Violation .
        
    
dm:title-NC-cardinalitySparql
		a         sh:SPARQLConstraint ;  
		sh:message "Cardinality violation. Missing required property." ;
		sh:prefixes cim: ;
		sh:select """
	      SELECT $this ?value ?v
        WHERE {
		$this dcterms:conformsTo ?conformsTo .
		{
			SELECT $this (count(?value) as ?v)
			WHERE {
			OPTIONAL {$this $PATH ?value } .
			}
			GROUP BY $this $PATH 
		}
        FILTER (?v=0 && ?conformsTo IN (<https://ap.cim4.eu/AssessedElement/2.3> , <https://ap.cim4.eu/Contingency/2.3>, <https://ap.cim4.eu/AvailabilitySchedule/2.3>, <https://ap.cim4.eu/EquipmentReliability/2.3>, <https://ap.cim4.eu/ImpactAssessmentMatrix/2.3>, <https://ap.cim4.eu/MonitoringArea/2.3>, <https://ap.cim4.eu/PowerSchedule/2.3>, <https://ap.cim4.eu/RemedialAction/2.3>, <https://ap.cim4.eu/RemedialActionSchedule/2.3>, <https://ap.cim4.eu/SecurityAnalysisResult/2.4>, <https://ap.cim4.eu/SensitivityMatrix/2.3>, <https://ap.cim4.eu/StateInstructionSchedule/2.3>, <https://ap.cim4.eu/SteadyStateInstruction/2.3>, <https://ap.cim4.eu/SteadyStateHypothesisSchedule/1.0>, <https://ap.cim4.eu/PowerSystemProject/2.3>, <https://ap.cim4.eu/ObjectRegistry/2.2> )).
        }""" . 				
		
dm:keyword-NC-cardinality
        a               sh:PropertyShape ;
        sh:sparql       dm:keyword-NC-cardinalitySparql ;
        sh:description  "This constraint validates the cardinality of the property (attribute)." ;
        sh:name         "keyword-NC-cardinality" ;
        sh:path         dcat:keyword ;
        sh:group        dm:CardinalityGroupCustom ;
        sh:order        13 ;
        sh:severity     sh:Violation .
        
    
dm:keyword-NC-cardinalitySparql
		a         sh:SPARQLConstraint ;  
		sh:message "Cardinality violation. Missing required property." ;
		sh:prefixes cim: ;
		sh:select """
	      SELECT $this ?value ?v
        WHERE {
		$this dcterms:conformsTo ?conformsTo .
		{
			SELECT $this (count(?value) as ?v)
			WHERE {
			OPTIONAL {$this $PATH ?value } .
			}
			GROUP BY $this $PATH 
		}
        FILTER (?v=0 && ?conformsTo IN (<https://ap.cim4.eu/AssessedElement/2.3> , <https://ap.cim4.eu/Contingency/2.3>, <https://ap.cim4.eu/AvailabilitySchedule/2.3>, <https://ap.cim4.eu/EquipmentReliability/2.3>, <https://ap.cim4.eu/ImpactAssessmentMatrix/2.3>, <https://ap.cim4.eu/MonitoringArea/2.3>, <https://ap.cim4.eu/PowerSchedule/2.3>, <https://ap.cim4.eu/RemedialAction/2.3>, <https://ap.cim4.eu/RemedialActionSchedule/2.3>, <https://ap.cim4.eu/SecurityAnalysisResult/2.4>, <https://ap.cim4.eu/SensitivityMatrix/2.3>, <https://ap.cim4.eu/StateInstructionSchedule/2.3>, <https://ap.cim4.eu/SteadyStateInstruction/2.3>, <https://ap.cim4.eu/SteadyStateHypothesisSchedule/1.0>, <https://ap.cim4.eu/PowerSystemProject/2.3>, <https://ap.cim4.eu/ObjectRegistry/2.2> )).
        }""" .		
		
dm:version-NC-cardinality
        a               sh:PropertyShape ;
        sh:sparql       dm:version-NC-cardinalitySparql ;
        sh:description  "This constraint validates the cardinality of the property (attribute)." ;
        sh:name         "version-NC-cardinality" ;
        sh:path         dcat:version ;
        sh:group        dm:CardinalityGroupCustom ;
        sh:order        14 ;
        sh:severity     sh:Violation .
        
    
dm:version-NC-cardinalitySparql
		a         sh:SPARQLConstraint ;  
		sh:message "Cardinality violation. Missing required property." ;
		sh:prefixes cim: ;
		sh:select """
	      SELECT $this ?value ?v
        WHERE {
		$this dcterms:conformsTo ?conformsTo .
		{
			SELECT $this (count(?value) as ?v)
			WHERE {
			OPTIONAL {$this $PATH ?value } .
			}
			GROUP BY $this $PATH 
		}
        FILTER (?v=0 && ?conformsTo IN (<https://ap.cim4.eu/AssessedElement/2.3> , <https://ap.cim4.eu/Contingency/2.3>, <https://ap.cim4.eu/AvailabilitySchedule/2.3>, <https://ap.cim4.eu/EquipmentReliability/2.3>, <https://ap.cim4.eu/ImpactAssessmentMatrix/2.3>, <https://ap.cim4.eu/MonitoringArea/2.3>, <https://ap.cim4.eu/PowerSchedule/2.3>, <https://ap.cim4.eu/RemedialAction/2.3>, <https://ap.cim4.eu/RemedialActionSchedule/2.3>, <https://ap.cim4.eu/SecurityAnalysisResult/2.4>, <https://ap.cim4.eu/SensitivityMatrix/2.3>, <https://ap.cim4.eu/StateInstructionSchedule/2.3>, <https://ap.cim4.eu/SteadyStateInstruction/2.3>, <https://ap.cim4.eu/SteadyStateHypothesisSchedule/1.0>, <https://ap.cim4.eu/PowerSystemProject/2.3>, <https://ap.cim4.eu/ObjectRegistry/2.2> )).
        }""" .			
		
dm:startDate-NC-cardinality
        a               sh:PropertyShape ;
        sh:sparql       dm:startDate-NC-cardinalitySparql ;
        sh:description  "This constraint validates the cardinality of the property (attribute)." ;
        sh:name         "startDate-NC-cardinality" ;
        sh:path         dcat:startDate ;
        sh:group        dm:CardinalityGroupCustom ;
        sh:order        15 ;
        sh:severity     sh:Violation .
        
    
dm:startDate-NC-cardinalitySparql
		a         sh:SPARQLConstraint ;  
		sh:message "Cardinality violation. Missing required property." ;
		sh:prefixes cim: ;
		sh:select """
	      SELECT $this ?value ?v
        WHERE {
		$this dcterms:conformsTo ?conformsTo .
		{
			SELECT $this (count(?value) as ?v)
			WHERE {
			OPTIONAL {$this $PATH ?value } .
			}
			GROUP BY $this $PATH 
		}
        FILTER (?v=0 && ?conformsTo IN (<https://ap.cim4.eu/AssessedElement/2.3> , <https://ap.cim4.eu/Contingency/2.3>, <https://ap.cim4.eu/AvailabilitySchedule/2.3>, <https://ap.cim4.eu/EquipmentReliability/2.3>, <https://ap.cim4.eu/ImpactAssessmentMatrix/2.3>, <https://ap.cim4.eu/MonitoringArea/2.3>, <https://ap.cim4.eu/PowerSchedule/2.3>, <https://ap.cim4.eu/RemedialAction/2.3>, <https://ap.cim4.eu/RemedialActionSchedule/2.3>, <https://ap.cim4.eu/SecurityAnalysisResult/2.4>, <https://ap.cim4.eu/SensitivityMatrix/2.3>, <https://ap.cim4.eu/StateInstructionSchedule/2.3>, <https://ap.cim4.eu/SteadyStateInstruction/2.3>, <https://ap.cim4.eu/SteadyStateHypothesisSchedule/1.0>, <https://ap.cim4.eu/PowerSystemProject/2.3>, <https://ap.cim4.eu/ObjectRegistry/2.2> )).
        }""" .		
		
#dm:description.langTag-presence
#        a               sh:PropertyShape ;
#        sh:sparql       dm:description.langTag-presenceSparql ;
#        sh:description  "This constraint validates the presence of language tag for the property (attribute)." ;
#        sh:name         "description.langTag-presence" ;
#        sh:path         dcterms:description;
#        sh:group        dm:LanguageTagGroup ;
#        sh:order        1 ;
#        sh:severity     sh:Violation .
#        
#    
#dm:description.langTag-presenceSparql
#		a         sh:SPARQLConstraint ;  
#		sh:message "Language tag is not declared." ;
#		sh:prefixes cim: ;
#		sh:select """
#	      SELECT $this ?value 
#        WHERE {
#		$this $PATH ?value .
#
#        FILTER (lang(?value)="" ).
#        }""" .

#dm:versionNotes.langTag-presence
#        a               sh:PropertyShape ;
#        sh:sparql       dm:versionNotes.langTag-presenceSparql ;
#        sh:description  "This constraint validates the presence of language tag for the property (attribute)." ;
#        sh:name         "versionNotes.langTag-presence" ;
#        sh:path         adms:versionNotes;
#        sh:group        dm:LanguageTagGroup ;
#        sh:order        2 ;
#        sh:severity     sh:Violation .
#        
#    
#dm:versionNotes.langTag-presenceSparql
#		a         sh:SPARQLConstraint ;  
#		sh:message "Language tag is not declared.{?value}" ;
#		sh:prefixes cim: ;
#		sh:select """
#	      SELECT $this ?value 
#        WHERE {
#		$this $PATH ?value .
#
#        FILTER (lang(?value)="" ).
#        }""" .		
		
dm:replaces-cardinality
        rdf:type        sh:PropertyShape;
        sh:description  "This constraint validates the cardinality of the association at the used direction.";
        sh:group        dm:CardinalityGroupCustom;
        sh:maxCount     1;
        sh:message      "Cardinality violation. Upper bound shall be 1";
        sh:name         "replaces-cardinality";
        sh:order        16;
        sh:path         dcterms:replaces;
        sh:severity     sh:Violation .		
		
dm:alternativeVersionAndPreferredVersion-dependency
        a               sh:PropertyShape ;
        sh:sparql       dm:alternativeVersionAndPreferredVersion-dependencySparql ;
        sh:description  "This constraint validates if either of the properties dcat-cim:alternativeVersion or dcat-cim:preferredVersion is present, the other one is required. Either the two properties shall be present or none." ;
        sh:name         "alternativeVersionAndPreferredVersion-dependency" ;
        sh:path         rdf:type;
        sh:group        dm:CardinalityGroupCustom ;
        sh:order        17 ;
        sh:severity     sh:Violation .
        
    
dm:alternativeVersionAndPreferredVersion-dependencySparql
		a         sh:SPARQLConstraint ;  
		sh:message "One of the propertis dcat-cim:alternativeVersion or dcat-cim:preferredVersion is not present." ;
		sh:prefixes cim: ;
		sh:select """
	      SELECT $this ?value 
        WHERE {
		BIND(EXISTS{$this dcat-cim:alternativeVersion ?value} AS ?hasaltv).
		BIND(EXISTS{$this dcat-cim:preferredVersion ?value1} AS ?hasprefv).

        FILTER ((?hasaltv=true && ?hasprefv=false) || (?hasaltv=false && ?hasprefv=true)).
        }""" .			